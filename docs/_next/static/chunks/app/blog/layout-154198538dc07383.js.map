{"version":3,"file":"static/chunks/app/blog/layout-154198538dc07383.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./src/mdx-components.js","webpack://_N_E/./src/blog/posts/2023/12/20/page.mdx","webpack://_N_E/./src/data/posts.js","webpack://_N_E/./src/components/Blog/Layout.js","webpack://_N_E/./src/components/Carousel.js","webpack://_N_E/<anon>"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/home/ubuntu/ramblehaven/src/components/Blog/Layout.js\")","import Image from 'next/image';\nimport Carousel from '@/components/Carousel';\n\nconst ResponsiveImage = props => {\n  const {style, src, alt, ...rest} = props;\n\n  // TODO: figure out better way to access current static context than assigning to globals...\n  const {slug} = global;\n\n  console.log('IMAGE:', props, slug);\n\n  const resolved = `/${slug}/${src}`;\n\n  return <div style={{position: 'relative', height: 'min(400px, 50vh)', ...style}}>\n    <Image src={resolved} alt={alt} style={{width: '100%', objectFit: 'contain', backgroundColor: 'transparent'}} sizes='(max-width: 768) 50vh, (max-width: 1200px) 50vw, 33vw' fill {...rest} />\n  </div>;\n};\n\nconst Video = props => {\n  const {src} = props;\n\n  // TODO: figure out better way to access current static context than assigning to globals...\n  const {slug} = global;\n\n  console.log('VIDEO:', props, slug);\n\n  const resolved = `/${slug}/${src}`;\n\n  return <source {...props} src={resolved}/>;\n};\n\nexport function useMDXComponents(components) {\n  return {\n    ...components,\n    Carousel,\n    img: ResponsiveImage,\n    Image: ResponsiveImage,\n    VideoSource: Video\n  };\n}\n",null,"import {default as post_2023_12_20_impl, meta as post_2023_12_20_meta, tableOfContents as post_2023_12_20_toc} from '@/blog/posts/2023/12/20/page.mdx';\n\nexport const posts = [\n  {id: 'post_2023_12_20', component: post_2023_12_20_impl, ...post_2023_12_20_meta, toc: post_2023_12_20_toc}\n].sort((a, b) => b.published.localeCompare(a.published));\nexport const active_posts = posts.filter(p => new Date(p.published) < new Date());\n","'use client';\n\nimport {active_posts} from '@/data/posts';\nimport Link from 'next/link';\nimport {format, formatDistanceToNow} from 'date-fns';\nimport {usePathname} from 'next/navigation';\n\nconst PostSummary = props => {\n  const {id, title, published, resource, tags = []} = props;\n\n  //const time = formatDistanceToNow(new Date(published), {addSuffix: true, includeSeconds: true});\n  const time = format(new Date(published), 'MMM d, y');\n\n  const href = resource === 'feed' ? (tags.indexOf('news') !== -1 ? `/news/${id}` : `/blog/${id}`) : `/${resource}/${id}/`;\n\n  return <li className='blog-sidebar-item'>\n    <Link className='nav-link' href={href}>{title ?? id}<br/>{time}</Link>\n  </li>;\n};\n\nconst Sidebar = props => {\n  const {resource, label, posts} = props;\n\n  return <div className='blog-sidebar'>\n    <span className='blog-toc'>\n      <span className='blog-sidebar-heading'>{label}</span>\n      <hr className='blog-separator'/>\n      <ul className='blog-sidebar-items'>\n        {posts.map(p => <PostSummary key={p.id} resource={resource} {...p}/>)}\n      </ul>\n    </span>\n  </div>;\n}\n\nconst has_tag = tag => tag === 'all' ? p => true : p => (p?.tags ?? []).indexOf(tag) !== -1;\nconst do_negate = status => !status ? fn => (...args) => fn(...args) : fn => (...args) => !fn(...args);\n\nconst Layout = props => {\n  const {children, negate = false, tag = 'all', label, params = {}} = props;\n  const filter_tag = tag ?? params.tag;\n\n  const path = usePathname();\n\n  const [resource, instance] = path.split('/').filter(x => x !== '');\n  const is_feed = resource === 'feed' || instance === undefined;\n\n  // avoid double-wrapping tag feed\n  if (resource === 'feed' && instance !== undefined && !params.tag) {\n    return children;\n  }\n\n  const posts = active_posts.filter(do_negate(negate)(has_tag(filter_tag)));\n\n  return <div className={`blog ${is_feed ? 'feed' : ''}`}>\n    <div className='blog-content'>\n      {!is_feed ? null : <Sidebar resource={resource} label={label} posts={posts}/>}\n      <div className='blog-posts'>\n        {children}\n      </div>\n    </div>\n  </div>;\n};\n\nexport default Layout;\n","'use client';\n\nimport {Carousel} from 'react-responsive-carousel';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\n\nimport {usePathname} from 'next/navigation';\n\nconst CarouselImpl = props => {\n  const path = usePathname();\n  const slug = path.replace(/^\\/blog\\/([^/]+).*$/, '$1');\n\n  const {items = []} = props;\n\n  const resolve_path = src => `/${slug}/${src}`;\n\n  console.log(items);\n\n  return <Carousel width='100%' showThumbs={false}>\n    {items.map((src, idx) => src.endsWith('.mp4') ?\n      <video width='100%' height='auto' key={src} controls>\n        <source src={resolve_path(src)} type='video/mp4'/>\n      </video> :\n      <img key={src} src={resolve_path(src)}/>\n    )}\n  </Carousel>;\n};\n\nexport default CarouselImpl;\n"],"names":["Promise","resolve","then","__webpack_require__","bind","ResponsiveImage","props","style","src","alt","rest","slug","global","console","log","resolved","concat","jsx_runtime","jsx","div","position","height","Image","width","objectFit","backgroundColor","sizes","fill","Video","source","useMDXComponents","components","Carousel","img","VideoSource","active_posts","posts","id","component","published","author","title","tags","hide_toc","toc","sort","a","b","localeCompare","filter","p","Date","PostSummary","resource","time","format","href","indexOf","li","className","jsxs","Link","br","Sidebar","label","span","hr","ul","map","has_tag","tag","do_negate","status","fn","args","Blog_Layout","children","negate","params","filter_tag","instance","path","usePathname","split","x","is_feed","undefined","__webpack_exports__","replace","items","resolve_path","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","showThumbs","idx","endsWith","video","controls","type"],"sourceRoot":""}